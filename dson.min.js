/*!
 * DSON.js
 *      Copyright (c) 2010-2013 David Majda (pegjs code and original pegjs json grammar)
 *      Copyright (c) 2014 Josh Jaques (pegjs dson grammar)
 *
 *      Permission is hereby granted, free of charge, to any person obtaining a copy of
 *      this software and associated documentation files (the "Software"), to deal in
 *      the Software without restriction, including without limitation the rights to
 *      use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 *      the Software, and to permit persons to whom the Software is furnished to do so,
 *      subject to the following conditions:
 *
 *      The above copyright notice and this permission notice shall be included in all
 *      copies or substantial portions of the Software.
 *
 *      THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *      IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 *      FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 *      COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 *      IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 *      CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 *      Generated by PEG.js 0.8.0.
 *      http://pegjs.majda.cz/
 */
DSON=function(){function e(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function t(e,t,r,n,i,a){this.message=e,this.expected=t,this.found=r,this.offset=n,this.line=i,this.column=a,this.name="SyntaxError"}function r(e){function r(){return e.substring(d,y)}function n(t){function r(t,r,n){var i,a
for(i=r;n>i;i++)a=e.charAt(i),"\n"===a?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return g!==t&&(g>t&&(g=0,v={line:1,column:1,seenCR:!1}),r(v,g,t),g=t),v}function i(e){b>y||(y>b&&(b=y,k=[]),k.push(e))}function a(r,i,a){function u(e){var t=1
for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function l(e,t){function r(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var n,i,a,u=new Array(e.length)
for(a=0;a<e.length;a++)u[a]=e[a].description
return n=e.length>1?u.slice(0,-1).join(", ")+" or "+u[e.length-1]:u[0],i=t?'"'+r(t)+'"':"end of input","Expected "+n+" but "+i+" found."}var s=n(a),o=a<e.length?e.charAt(a):null
return null!==i&&u(i),new t(null!==r?r:l(i,o),i,o,a,s.line,s.column)}function u(e){var t,r=new Array(e.length)
for(t=0;t<e.length;t++)r[t]=e.charCodeAt(t)-32
return r}function l(t){function r(e){return"[object Array]"===Object.prototype.toString.apply(e)?[]:e}for(var n,a,u=f[t],s=0,o=[],p=u.length,h=[],g=[];;){for(;p>s;)switch(u[s]){case 0:g.push(r($[u[s+1]])),s+=2
break
case 1:g.push(y),s++
break
case 2:g.pop(),s++
break
case 3:y=g.pop(),s++
break
case 4:g.length-=u[s+1],s+=2
break
case 5:g.splice(-2,1),s++
break
case 6:g[g.length-2].push(g.pop()),s++
break
case 7:g.push(g.splice(g.length-u[s+1],u[s+1])),s+=2
break
case 8:g.pop(),g.push(e.substring(g[g.length-1],y)),s++
break
case 9:h.push(p),o.push(s+3+u[s+1]+u[s+2]),g[g.length-1]?(p=s+3+u[s+1],s+=3):(p=s+3+u[s+1]+u[s+2],s+=3+u[s+1])
break
case 10:h.push(p),o.push(s+3+u[s+1]+u[s+2]),g[g.length-1]===c?(p=s+3+u[s+1],s+=3):(p=s+3+u[s+1]+u[s+2],s+=3+u[s+1])
break
case 11:h.push(p),o.push(s+3+u[s+1]+u[s+2]),g[g.length-1]!==c?(p=s+3+u[s+1],s+=3):(p=s+3+u[s+1]+u[s+2],s+=3+u[s+1])
break
case 12:g[g.length-1]!==c?(h.push(p),o.push(s),p=s+2+u[s+1],s+=2):s+=2+u[s+1]
break
case 13:h.push(p),o.push(s+3+u[s+1]+u[s+2]),e.length>y?(p=s+3+u[s+1],s+=3):(p=s+3+u[s+1]+u[s+2],s+=3+u[s+1])
break
case 14:h.push(p),o.push(s+4+u[s+2]+u[s+3]),e.substr(y,$[u[s+1]].length)===$[u[s+1]]?(p=s+4+u[s+2],s+=4):(p=s+4+u[s+2]+u[s+3],s+=4+u[s+2])
break
case 15:h.push(p),o.push(s+4+u[s+2]+u[s+3]),e.substr(y,$[u[s+1]].length).toLowerCase()===$[u[s+1]]?(p=s+4+u[s+2],s+=4):(p=s+4+u[s+2]+u[s+3],s+=4+u[s+2])
break
case 16:h.push(p),o.push(s+4+u[s+2]+u[s+3]),$[u[s+1]].test(e.charAt(y))?(p=s+4+u[s+2],s+=4):(p=s+4+u[s+2]+u[s+3],s+=4+u[s+2])
break
case 17:g.push(e.substr(y,u[s+1])),y+=u[s+1],s+=2
break
case 18:g.push($[u[s+1]]),y+=$[u[s+1]].length,s+=2
break
case 19:g.push(c),0===F&&i($[u[s+1]]),s+=2
break
case 20:d=g[g.length-1-u[s+1]],s+=2
break
case 21:d=y,s++
break
case 22:for(n=u.slice(s+4,s+4+u[s+3]),a=0;a<u[s+3];a++)n[a]=g[g.length-1-n[a]]
g.splice(g.length-u[s+2],u[s+2],$[u[s+1]].apply(null,n)),s+=4+u[s+3]
break
case 23:g.push(l(u[s+1])),s+=2
break
case 24:F++,s++
break
case 25:F--,s++
break
default:throw new Error("Invalid opcode: "+u[s]+".")}if(!(h.length>0))break
p=h.pop(),s=o.pop()}return g[0]}var s,o=arguments.length>1?arguments[1]:{},c={},p={DSON_text:0},h=0,$=[c,function(e){return e},"so",{type:"literal",value:"so",description:'"so"'},"many",{type:"literal",value:"many",description:'"many"'},"such",{type:"literal",value:"such",description:'"such"'},"wow",{type:"literal",value:"wow",description:'"wow"'},"is",{type:"literal",value:"is",description:'"is"'},"and",{type:"literal",value:"and",description:'"and"'},"also",{type:"literal",value:"also",description:'"also"'},",",{type:"literal",value:",",description:'","'},".",{type:"literal",value:".",description:'"."'},"!",{type:"literal",value:"!",description:'"!"'},"?",{type:"literal",value:"?",description:'"?"'},{type:"other",description:"whitespace"},[],/^[ \t\n\r]/,{type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},"no",{type:"literal",value:"no",description:'"no"'},function(){return!1},"empty",{type:"literal",value:"empty",description:'"empty"'},function(){return null},"yes",{type:"literal",value:"yes",description:'"yes"'},function(){return!0},null,function(e){return e},function(e,t){var r,n={}
for(n[e.name]=e.value,r=0;r<t.length;r++)n[t[r].name]=t[r].value
return n},function(e){return null!==e?e:{}},function(e,t){return{name:e,value:t}},function(e){return e},function(e,t){return[e].concat(t)},function(e){return null!==e?e:[]},{type:"other",description:"number"},function(){return parseFloat(r().replace("very","e").replace("VERY","e"))},/^[1-9]/,{type:"class",value:"[1-9]",description:"[1-9]"},"very",{type:"literal",value:"very",description:'"very"'},"VERY",{type:"literal",value:"VERY",description:'"VERY"'},"-",{type:"literal",value:"-",description:'"-"'},"+",{type:"literal",value:"+",description:'"+"'},"0",{type:"literal",value:"0",description:'"0"'},{type:"other",description:"string"},function(e){return e.join("")},'"',{type:"literal",value:'"',description:'"\\""'},"\\",{type:"literal",value:"\\",description:'"\\\\"'},"/",{type:"literal",value:"/",description:'"/"'},"b",{type:"literal",value:"b",description:'"b"'},function(){return"\b"},"f",{type:"literal",value:"f",description:'"f"'},function(){return"\f"},"n",{type:"literal",value:"n",description:'"n"'},function(){return"\n"},"r",{type:"literal",value:"r",description:'"r"'},function(){return"\r"},"t",{type:"literal",value:"t",description:'"t"'},function(){return"	"},"u",{type:"literal",value:"u",description:'"u"'},function(e){return String.fromCharCode(parseInt(e,16))},function(e){return e},/^[ -!#-[\]-\u10FFFF]/,{type:"class",value:"[ -!#-[\\]-\\u10FFFF]",description:"[ -!#-[\\]-\\u10FFFF]"},/^[0-9]/,{type:"class",value:"[0-9]",description:"[0-9]"},/^[0-9a-f]/i,{type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"}],f=[u('!7(+<$7)+2%7(+(%4#6!#!!%$##  $"#  "#  '),u('!7(+=$."""2"3#+-%7(+#%\'#%$##  $"#  "#  '),u('!7(+=$.$""2$3%+-%7(+#%\'#%$##  $"#  "#  '),u('!7(+=$.&""2&3\'+-%7(+#%\'#%$##  $"#  "#  '),u('!7(+=$.(""2(3)+-%7(+#%\'#%$##  $"#  "#  '),u('!7(+=$.*""2*3++-%7(+#%\'#%$##  $"#  "#  '),u('!7(+I$.,""2,3-*) "..""2.3/+-%7(+#%\'#%$##  $"#  "#  '),u('!7(+a$.0""2031*A ".2""2233*5 ".4""2435*) ".6""2637+-%7(+#%\'#%$##  $"#  "#  '),u('8 90:""1!3;,)&0:""1!3;"9*" 38'),u('7**A "7+*; "7,*5 "7-*/ "7/*) "70*# "7:'),u('!.<""2<3=+& 4!6>! %'),u('!.?""2?3@+& 4!6A! %'),u('!.B""2B3C+& 4!6D! %'),u('!7#+$!7.+o$ 9!7\'+2$7.+(%4"6F"! %$"#  "#  ,=&!7\'+2$7.+(%4"6F"! %$"#  "#  "+)%4"6G""! %$"#  "#  *# " E+2%7$+(%4#6H#!!%$##  $"#  "#  '),u('!7:+=$7%+3%7)+)%4#6I#"" %$##  $"#  "#  '),u('!7!+$!7)+o$ 9!7&+2$7)+(%4"6J"! %$"#  "#  ,=&!7&+2$7)+(%4"6J"! %$"#  "#  "+)%4"6K""! %$"#  "#  *# " E+2%7"+(%4#6L#!!%$##  $"#  "#  '),u('8!77*# " E+Q$76+G%75*# " E+7%74*# " E+\'%4$6N$ %$$#  $##  $"#  "#  9*" 3M'),u('.2""2233'),u('0O""1!3P'),u('.Q""2Q3R*) ".S""2S3T'),u('!73+R$77*# "78*# " E+<% 97?+&$,#&7?"""  +#%\'#%$##  $"#  "#  '),u('!71+<$ 97?+&$,#&7?"""  +#%\'"%$"#  "#  '),u('79*@ "!72+5$ 97?,#&7?"+#%\'"%$"#  "#  '),u('.U""2U3V'),u('.W""2W3X'),u('.Y""2Y3Z'),u('8!7=+D$ 97;,#&7;"+2%7=+(%4#6\\#!!%$##  $"#  "#  9*" 3['),u('7>*ģ "!7<+Ę$.]""2]3^*ý "._""2_3`*ñ ".a""2a3b*å "!.c""2c3d+& 4!6e! %*Î "!.f""2f3g+& 4!6h! %*· "!.i""2i3j+& 4!6k! %*  "!.l""2l3m+& 4!6n! %* "!.o""2o3p+& 4!6q! %*r "!.r""2r3s+a$!!7@+A$7@+7%7@+-%7@+#%\'$%$$#  $##  $"#  "#  +! (%+(%4"6t"! %$"#  "#  +(%4"6u"! %$"#  "#  '),u('._""2_3`'),u('.]""2]3^'),u('0v""1!3w'),u('0x""1!3y'),u('0z""1!3{')],y=0,d=0,g=0,v={line:1,column:1,seenCR:!1},b=0,k=[],F=0
if("startRule"in o){if(!(o.startRule in p))throw new Error("Can't start parsing from rule \""+o.startRule+'".')
h=p[o.startRule]}if(s=l(h),s!==c&&y===e.length)return s
throw s!==c&&y<e.length&&i({type:"end",description:"end of input"}),a(null,k,b)}return e(t,Error),{SyntaxError:t,parse:r}}()
